<html>
<head>
  <meta charset="utf-8">
  <title>1日でわかるWebサービス制作の全て ～企画から実装まで～</title>
  <link href="js/pretty/prettify.css" type="text/css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<div id="content">

<h1>1日でわかるWebサービス制作の全て ～企画から実装まで～</h1>

<h2>イントロダクション</h2>

<h3>自己紹介</h3>

<ul>
<li>和田裕介 / Yusuke Wada</li>
<li>1981年生 / 横浜住み / 独身</li>
<li>(株) ワディット代表取締役</li>
<li>(株) オモロキ取締役兼最高技術責任者</li>
<li>Web Application Developer</li>
<li>物書きも少々</li>
</ul>

<h3>ワディット</h3>

<p><img src="images/wadit.jpg" alt="ワディット" /></p>

<h3>オモロキ</h3>

<p><img src="images/omoroki.jpg" alt="オモロキ" /></p>

<h3>メインワークその1</h3>

<p><img src="images/bokete.png" alt="ボケて" /></p>

<h3>メインワークその2</h3>

<p><img src="images/book.jpg" alt="Webサービスのつくり方" /></p>

<h3>その他つくったモノ</h3>

<ul>
<li><a href="http://kimi.la/">君のラジオ</a></li>
<li>anpiレポート</li>
<li>CDTube</li>
<li>某アダルトサイト達</li>
</ul>

<h3><a href="http://kimi.la/">君のラジオ</a></h3>

<p><img src="images/kimi.png" alt="君のラジオ" /></p>

<h3>anpiレポート</h3>

<p><img src="images/anpi.png" alt="anpiレポート" /></p>

<h3>CDTube</h3>

<p><img src="images/cdtube.jpg" alt="CDTube" /></p>

<h2>ボケて（bokete）</h2>

<h3>現状</h3>

<ul>
<li>全デバイス合計 月間「1億PV以上」</li>
<li>スマホアプリ合計 170万ダウンロード</li>
<li>hao123、 Yahoo! JAPANと連携</li>
<li>コンテンツ書籍化 x 2回</li>
<li>各種企業様とコラボ</li>
</ul>

<h3>歩み</h3>

<p><img src="images/bokete_history.png" alt="ボケての歩み" /></p>

<hr />

<h2>本題「Webサービスをつくるに当たって」</h2>

<h3>Webサービスの定義</h3>

<p>訪問者に対して何かしらの <em>サービス</em> を提供するWeb</p>

<ul>
<li>HTTPを応用してSOAP/XMLなどを使ったメッセージ送受信することもWebサービスと呼ばれる</li>
<li>動的なWebサイト</li>
<li>アクセスされた状況に応じてページが変化する</li>
<li>連動するスマホアプリもその一環</li>
</ul>

<h3>事例紹介「クックパッド」</h3>

<p><img src="images/cookpad.png" alt="クックパッド" /></p>

<h3>事例紹介「nanapi」</h3>

<p><img src="images/nanapi.png" alt="クックパッド" /></p>

<h3>サービスを提供する＝ユーザーがいる</h3>

<ul>
<li>いわゆる「B to C」の「C」</li>
<li>より多くのユーザーに使ってもらうこと</li>
<li>ユーザーの体験を充実させること</li>
<li>この2つが指標になる</li>
</ul>

<h3>個人や小さな規模からも始められる</h3>

<ul>
<li>オモロキの社員は4人</li>
<li>その他パートナーと組んで開発・運用</li>
<li>イニシャルコストが低い</li>
<li>個人でもWebサービスをつくって認知させることは可能</li>
<li>興味が多様化しているのでニッチなモノでも成り立つ</li>
</ul>

<h3>得られること</h3>

<ol>
<li>勉強になる</li>
<li>2枚目の名刺として</li>
<li>ユーザーの反応が楽しい</li>
<li>もしかしてお金になるかも…</li>
</ol>

<h3>嬉しい瞬間</h3>

<blockquote>
  <p>「あのサービスをつくったゆーすけべーさんですよね？」</p>
</blockquote>

<h3>6畳一間から世界を変える</h3>

<p><img src="images/desk.jpg" alt="デスク" /></p>

<h3>肝に銘じたい言葉</h3>

<blockquote>
  <p>Shut the fuck up and write some code.</p>
</blockquote>

<h3>例えば…</h3>

<ul>
<li>Twitter上から「おはよう」が含まれるツイートを解析</li>
<li>アイデアの元</li>
<li>簡単なプログラムを動かすことで検証が出来る</li>
</ul>

<h3>twitter_search.pl</h3>

<pre><code>use Net::Twitter::Lite::WithAPIv1_1;
use Config::Pit;
use Encode;
use utf8;

binmode STDOUT, ':utf8';

my $config = pit_get('twitter-api');
my $nt     = Net::Twitter::Lite::WithAPIv1_1-&gt;new(
    consumer_key        =&gt; $config-&gt;{consumer_key},
    consumer_secret     =&gt; $config-&gt;{consumer_secret},
    access_token        =&gt; $config-&gt;{token},
    access_token_secret =&gt; $config-&gt;{token_secret}
);
my $result = $nt-&gt;search(
    {
        q                =&gt; 'おはよう',
        include_entities =&gt; 1,
        result_type      =&gt; 'recent',
        count            =&gt; 100
    }
);

for my $tweet ( @{ $result-&gt;{statuses} } ) {
    print "$tweet-&gt;{text}\n";
    print "----------------------------------------\n";
}
</code></pre>

<h3>とにかく手を動かすことが大事</h3>

<blockquote>
  <p>そこに1,000人いたとして、アイデアを思いつくのが100人、アイデアを実現するのが10人、アイデアで成功する人は1人</p>
</blockquote>

<hr />

<h2>企画と開発準備</h2>

<h3>つくり方をつくる</h3>

<ul>
<li>モノをつくるための方法を自分なりにつくる</li>
<li>参考になる本
<ul>
<li><a href="http://www.amazon.co.jp/dp/415208426X/">IDEO 「発想する会社」</a></li>
<li><a href="http://www.amazon.co.jp/dp/4152087994/">デザイン思考の道具箱</a></li>
<li><a href="http://www.amazon.co.jp/dp/4396612117/">仕事のやり方間違えています</a></li>
<li><a href="http://www.amazon.co.jp/dp/4484881047/">アイデアのつくり方</a></li>
</ul></li>
</ul>

<h3>デザイン思考の道具箱</h3>

<p><img src="images/okudehon.jpg" alt="デザイン思考の道具箱" /></p>

<h3>創造のサイクルを回せ</h3>

<p><img src="images/cycle.jpg" alt="創造のサイクル" /></p>

<ol>
<li>哲学
<ul>
<li>個々人が持つある興味に対する揺るがない信念</li>
</ul></li>
<li>アイデア
<ul>
<li>哲学を叶える個別具体的なアイデア</li>
</ul></li>
<li>テーマ
<ul>
<li>勝負する領域</li>
</ul></li>
<li>コンセプト
<ul>
<li>アイデアを束ねるつくるモノを一言で表すような枠組み</li>
</ul></li>
<li>名前
<ul>
<li>これが無くては始まらない。キラキラネームかセルフトーキングか</li>
</ul></li>
<li>デザイン
<ul>
<li>見た目のみならず、ディテールを妥協して決めていく作業</li>
</ul></li>
<li>内部設計
<ul>
<li>実装に向けてのシステムの内側を設計する</li>
</ul></li>
</ol>

<h3>例えば…</h3>

<p><a href="http://cookpad.com/">クックパッド</a> の場合…</p>

<h3>アイデアとコンセプトの違い</h3>

<ul>
<li>アイデアはいくつも出てくる</li>
<li>それをまとめるフレームワークみたいなのがコンセプト</li>
</ul>

<blockquote>
  <p>例: ボケては「写真で一言ボケる」Webサービス</p>
</blockquote>

<h3>アイデアは組み合わせ</h3>

<blockquote>
  <p>アイデアとは既存の要素の新しい組み合わせ以外の何のものでもないということである</p>
  
  <p>「アイデアのつくり方」より</p>
</blockquote>

<h3>シャワーを浴びている時に降ってくる</h3>

<ul>
<li>アイデアはすぐに出てくるものでは無い</li>
<li>孵化する直前までいかに追い込むかが重要</li>
<li>その後はリラックスしていると不思議と出てくる</li>
</ul>

<h3>シーズとニーズの話</h3>

<ul>
<li>これが出来るという「シーズ」</li>
<li>これが欲しいという「ニーズ」</li>
<li>どちらも知っている必要はある</li>
<li>が、偏ってもいけない</li>
</ul>

<h3>究極のブレインストーミング</h3>

<p><img src="images/ideo.jpg" alt="IDEO" /></p>

<p><a href="http://www.designsojourn.com/7-ways-to-unleashing-your-creativity/">7 Ways to Unleashing your Creativity</a> より</p>

<h3>ブレストにはルールがある</h3>

<ul>
<li>否定をしない</li>
<li>むしろ乗っかかる</li>
<li>時間を決める</li>
<li>数を数える</li>
<li>突飛なことを言う</li>
<li>まとめる役割</li>
</ul>

<h3>リスク、リスク、リスク</h3>

<blockquote>
  <p>そにはリスクが潜んでいる</p>
</blockquote>

<p><img src="images/typhoon.jpg" alt="台風" /></p>

<ul>
<li>スキルリスク</li>
<li>技術リスク</li>
<li>政治リスク</li>
<li>法的リスク</li>
</ul>

<h3>開発の準備をしよう</h3>

<p>「企画倒れ」にならないよう開発へのハードルを下げていく</p>

<blockquote>
  <p>やるやる詐欺にはなりたくない</p>
</blockquote>

<h3>エディタという道具</h3>

<p><img src="images/emacs.png" alt="emacs" /></p>

<h3>勉強会</h3>

<p><img src="images/perl_entrance.jpg" alt="Perl入学式" /></p>

<h3>巨人の方に乗る</h3>

<blockquote>
  <p>Standing on the shoulders of giants</p>
</blockquote>

<p>CPANライブラリのエコシステム</p>

<ul>
<li><a href="http://yusukebe.com/archives/20090912/120113.html">Where are Casual Perlers ?</a></li>
<li><a href="http://bulknews.typepad.com/blog/2009/09/on-module-writers-and-users.html">On module writers and users</a></li>
</ul>

<hr />

<h2>Webテクノロジー・オーバービュー</h2>

<h3>Webの基礎技術を学びながらつくる</h3>

<p>オススメ本</p>

<p><img src="images/http_and_rest_hon.jpg" alt="Webを支える技術" /></p>

<h3>ホームページをブラウザで閲覧する際の裏側</h3>

<p><img src="images/client_server.png" alt="サーバ・クライアント" /></p>

<p>このやり取り自体が取り決め＝ <em>プロトコル</em> として定められている</p>

<h3>HTTP、URI、HTML</h3>

<p><img src="images/web_diagram.png" alt="HTTP、URI、HTML" /></p>

<blockquote>
  <p>あくまで取り決めなので「そういうモノ」として捉える</p>
</blockquote>

<h3>URI / URL</h3>

<blockquote>
  <p>http://example.com/about.html</p>
</blockquote>

<ul>
<li>プロトコルに「HTTP」を使用する</li>
<li>ホスト名は example.com</li>
<li>パスが /about.html</li>
<li>拡張子が.htmlなので大抵HTMLである</li>
</ul>

<h3>HTTPのメソッド</h3>

<p>クライアントからサーバへのリクエスト。リソースを扱うため、主に4つが使われている</p>

<ul>
<li>GET</li>
<li>POST</li>
<li>PUT</li>
<li>DELETE</li>
</ul>

<h3>telnetでGET</h3>

<pre><code>$ telnet yusukebe.com 80

GET / HTTP/1.1
Host: yusukebe.com
</code></pre>

<h3>Webページを構成する要素</h3>

<ul>
<li>HTML</li>
<li>CSS</li>
<li>JavaScript</li>
<li>画像、Flashなどのバイナリファイル</li>
</ul>

<h3>HTML - HyperText Markup Language</h3>

<p>ある程度構造化したテキストをマークアップで書ける</p>

<pre><code>&lt;h2 class="title"&gt;タイトル&lt;/h2&gt;
</code></pre>

<h3>CSS - Cascading Style Sheets</h3>

<p>CSSセレクタを利用しHTMLを装飾する</p>

<pre><code>h2.title { color:#333; }
</code></pre>

<h3>JavaScript</h3>

<p>ページ自体をブラウザ側で操作し動きを与える</p>

<pre><code>$('h2.title').fadeOut();
</code></pre>

<h3>動的サイトと静的サイト</h3>

<p><img src="images/static_or_dynamic.png" alt="静的サイトと動的サイト" /></p>

<h3>Webプログラミング言語</h3>

<ul>
<li>PHP</li>
<li>Perl</li>
<li>Ruby</li>
<li>Python</li>
<li>Java</li>
</ul>

<p>などが主流であるが C言語 でも不可能ではない</p>

<h3>Web Application Framework</h3>

<blockquote>
  <p>例えば、Ruby on Rails</p>
</blockquote>

<h3>それ以前</h3>

<p><img src="images/kent.png" alt="CGI" /></p>

<h3>MVCモデル</h3>

<ul>
<li>Model</li>
<li>View</li>
<li>Controller</li>
</ul>

<blockquote>
  <p>役割を分離して考えておくとよいよねぇ〜</p>
</blockquote>

<h3>Webサーバ、ミドルウェア色々</h3>

<ul>
<li>Apache</li>
<li>nginx</li>
<li>MySQL</li>
<li>memcached</li>
<li>Redis</li>
<li>MongoDB</li>
</ul>

<h3>クラウドとしてのAWS</h3>

<ul>
<li>Amazon Web Services</li>
<li>ボケてでは現在30台ほどのサーバを利用</li>
<li>10分でスケールアウトすることが可能</li>
<li>マネージドされたミドルウェアを使える
<ul>
<li>S3 / CloudFront</li>
<li>RDS</li>
<li>ElastiCache</li>
<li>SES</li>
</ul></li>
</ul>

<hr />

<h2>ライブコーディングその1</h2>

<h3>なんかつくります！</h3>

<blockquote>
  <p>例: Twitterログイン掲示板</p>
</blockquote>

<h3>いつつくるの？</h3>

<blockquote>
  <p>今でしょ！</p>
</blockquote>

<h2>開発環境の紹介</h2>

<h3>use Perl</h3>

<ul>
<li>25歳/ラリー・ウォールさんによる</li>
<li>テキスト処理に強い言語</li>
<li>Ruby/Python/PHPに押されがちだけど…</li>
<li>Webもテキストみたい ＝ Webにも強い</li>
<li>Perl5の最新安定バージョンは 5.18.0</li>
</ul>

<h3>TMTOWTDI</h3>

<p><img src="images/larry.jpg" alt="ラリー・ウォール" /></p>

<blockquote>
  <p>やり方はひとつじゃない</p>
</blockquote>

<h3>実はこの資料もPerlでHTML化</h3>

<ul>
<li>Markdown でテキストを編集</li>
<li>手元にてリアルタイムでプレビューするWebアプリ</li>
<li>変換スクリプトでHTML化</li>
<li>GitHub Pagesで公開</li>
<li><a href="lib/WebServiceOneDay.pm">WebServiceOneDay.pm</a></li>
<li><a href="examples/convert.pl">convert.pl</a></li>
</ul>

<h3>CPANライブラリ</h3>

<p><img src="images/cpan.png" alt="search.cpan.org" /></p>

<h3>WebServiceOneDay.pm</h3>

<pre><code>package WebServiceOneDay;
use strict;
use warnings;
use Text::Markdown qw/markdown/;
use Path::Class qw/file/;
use Encode qw/decode_utf8/;
use Data::Section::Simple qw/get_data_section/;
use Text::MicroTemplate qw/render_mt/;

…;
</code></pre>

<h3>Perl Mongers !!</h3>

<p><img src="images/yapcasia.jpg" alt="YAPC::Asia 2011" /></p>

<h2>Web Application Framework</h2>

<h3>Mojolicious</h3>

<ul>
<li>MVCのうちVCをサポート</li>
<li>Perlコアモジュールのみに依存  = ポータブル</li>
<li>いわゆるフルスタックではない</li>
<li>自前で最小限全てを実装している意味ではフルスタック</li>
<li>その他CPANモジュールを組み合わせる</li>
<li>最新バージョンは 4.18</li>
</ul>

<h3>スケルトン</h3>

<pre><code>$ mojo generate app MyApp::Web
</code></pre>

<p>すると… </p>

<pre><code>tree ./
./
├── lib
│   └── MyApp
│       ├── Web
│       │   └── Example.pm
│       └── Web.pm
├── log
├── public
│   └── index.html
├── script
│   └── my_app_web
├── t
│   └── basic.t
└── templates
    ├── example
    │   └── welcome.html.ep
    └── layouts
        └── default.html.ep
</code></pre>

<h3>ルーティング</h3>

<pre><code>package MyApp::Web;
use Mojo::Base 'Mojolicious';

sub startup {
    my $self = shift;
    my $r = $self-&gt;routes;
    $r-&gt;namespaces(['MyApp::Web::Controller']);
    $r-&gt;get('/')-&gt;to('root#index');
}

1;
</code></pre>

<h3>コントローラ</h3>

<pre><code>package MyApp::Web::Controller::Root;
use Mojo::Base 'Mojolicious::Controller';

sub index {
    my $self = shift;
    my $message = "Hello, I'm from Yokohama!";
    $self-&gt;stash-&gt;{message} = $message;
    $self-&gt;render();
}

1;
</code></pre>

<h3>テンプレート</h3>

<pre><code>% layout 'default';
% title 'Welcome';

&lt;h2&gt;&lt;%= $message %&gt;&lt;/h2&gt;
</code></pre>

<h3>さて</h3>

<blockquote>
  <p>なにをつくりましょうか！</p>
</blockquote>

<hr />

<h2>ライブコーディングその2</h2>

<hr />

<h2>まとめ</h2>
</div>
<script type="text/javascript" src="js/pretty/prettify.js"></script>
<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="js/jquery.scrollTo-min.js"></script>
<script type="text/javascript" src="js/app.js"></script>
</body>
</html>
